;缓冲区DATA有一组单字节有符号数，0结束标记
;把前5个正数送入缓冲区PDATA
;把前5个负数送入缓冲区MDATA
;不足5个用0补齐, 先全部用0填充了再把正负数加进去
;注意这是有符号整数

MAX_COUNT = 5

DSEG SEGMENT
	DATA	DB	3, -4, 5, 6, -7, 8, -9, -10, -1, -32, -123
			DB	27, 58, 44, -12, 0
	PDATA	DB	MAX_COUNT	DUP(?)	;正数	
	MDATA	DB	MAX_COUNT	DUP(?)	;负数
DSEG ENDS

SSEG SEGMENT STACK

SSEG ENDS

CSEG SEGMENT
	ASSUME	CS:CSEG, DS:DSEG, SS:SSEG
START:
	MOV AX, DSEG
	MOV DS, AX
	MOV	AX, SSEG
	MOV SS, AX 

	MOV SI, OFFSET PDATA	;大于
	MOV DI, OFFSET MDATA	;小于
	
	MOV	CX,	MAX_COUNT
FILL_0:
	MOV BYTE PTR [SI], 0
	MOV BYTE PTR [DI], 0
	INC	SI
	INC	DI
	LOOP FILL_0
		
	MOV BX, OFFSET DATA
	XOR	SI, SI
	XOR DI, DI
S:	
	MOV AL, [BX]
	CMP	AL, 0
	JZ	EXIT
	JL	BLOVE	;小于
	
	;大于
	CMP	SI, MAX_COUNT
	JZ	AGAIN
	MOV	PDATA[SI], AL
	INC SI
	JMP AGAIN
	
	;小于
BLOVE:
	CMP DI, MAX_COUNT
	JZ	AGAIN
	MOV MDATA[DI], AL
	INC	DI
	
AGAIN:
	INC BX
	JMP S
	
EXIT:
	MOV AX, 4C00H
	INT 21H

CSEG ENDS
END START