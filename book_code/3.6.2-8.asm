;判断字符串2是不是字符串1的字串，在两个数据段内
;如果是将FLAG置1，不是置0

DSEG1 SEGMENT
	STR1	DB	"THIS IS A STRING!", 0
DSEG1 ENDS

DSEG2 SEGMENT
	STR2	DB	"STRING", 0
	FLAG	DB	?
DSEG2 ENDS

SSEG SEGMENT STACK

SSEG ENDS

CSEG SEGMENT
	ASSUME	CS:CSEG, DS:DSEG1, SS:SSEG, ES:DSEG2
START:
	MOV AX, DSEG1
	MOV DS, AX
	MOV AX, DSEG2
	MOV ES, AX 
	MOV	AX, SSEG
	MOV SS, AX 
	
	XOR SI, SI
S:	
	XOR DI, DI
	MOV AL, ES:STR2[DI]
	
S2:
	MOV	AH, DS:STR1[SI]
	CMP AH, 0
	JZ	EXIT	;STR1到了结尾
	
	CMP	AL, AH
	JZ	LOOP1	;相等跳入LOOP1
	INC SI		
	LOOP S2		;不相等继续比较
LOOP1:
	INC DI
	MOV AL, ES:STR2[DI]
	CMP	AL, 0
	JZ	TRUE	;STR2结束
	
	INC SI
	MOV AH, DS:STR1[SI]
	CMP AH, 0
	JZ	EXIT	;STR1到了结尾
	
	CMP AL, AH
	JZ	LOOP1
	INC SI
	LOOP S	;不相等直接跳入S

TRUE:
	MOV AL, 1
	MOV ES:FLAG, AL
	
EXIT:
	MOV AX, 4C00H
	INT 21H

CSEG ENDS
END START